<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disclaimer</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            font-family: Arial, sans-serif;
            overflow: auto;
        }
        body {
            background-color: #EDF4F2;
            color: #31473A;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; /* Ensure content starts at the top */
        }
        .container {
            width: 80%;
            margin: 20px auto; /* Center the container */
            text-align: center;
        }
        textarea {
            width: 100%;
            height: 300px;
            padding: 15px;
            border: 2px solid #31473A;
            border-radius: 5px;
            background-color: #FFFFFF;
            color: #31473A;
            font-size: 16px;
            box-sizing: border-box; /* Include padding in the element's total width and height */
            overflow: auto; /* Ensure scrolling within textarea if needed */
        }
        .button-container {
            margin-top: 20px;
        }
        button {
            background-color: #31473A;
            color: #FFFFFF;
            border: none;
            padding: 10px 20px;
            margin: 10px;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #FFFFFF;
            color: #31473A;
            border: 2px solid #31473A;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Acronym</h1>
        <textarea id="Acronym-text">
    • CVE- common vulnerabilities and exposures
    • CWE- common weakness enumeration
    • MASVS- Mobile Application Security Verification Standard)
    • OWASP- Open Web Application Security Project
    • OSSTMM- Open-Source Security Testing Methodology Manual
    • ISECOM- ISECOM
    • NIST- National Institute of Standards and Technology
    • VA-Vulnerability Assessment
    • PT-Penetration Testing
        </textarea>
    </div>
    <div class="container">
        <h1>Disclaimer</h1>
        <textarea id="disclaimer-text">
The data contained in this document shall not be disclosed, duplicated, used, or disclosed in whole or in part for any purpose. If a contract is awarded because of or in connection with the submission of this data, the client or prospective client shall have the right to duplicate, use, or disclose this data to the extent provided in the contract. This restriction does not limit the client’s or prospective client’s right to use the information contained in the data if it is obtained from another source without restriction.
Although the author or ITOrizin Technology Solutions Pvt. Ltd. have made every effort to ensure that the information in this book was correct at the time of writing, the author and ITOrizin Technology Solutions Pvt. Ltd. do not assume and hereby disclaim any liability to any party for any loss, damage, or disruption caused by errors or omissions, whether such errors or omissions result from negligence, accident, or any other cause.
        </textarea>
    </div>
    <div class="button-container">
        <button onclick="saveDisclaimer()">Save</button>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const disclaimerData = JSON.parse('{{ disclaimer_data|tojson|safe }}');
            const acronymTextarea = document.getElementById('Acronym-text');
            const disclaimerTextarea = document.getElementById('disclaimer-text');

            if (disclaimerData) {
                if (disclaimerData.acronym) {
                    acronymTextarea.value = disclaimerData.acronym;
                }
                if (disclaimerData.disclaimer) {
                    disclaimerTextarea.value = disclaimerData.disclaimer;
                }
            }
        });

        function saveDisclaimer() {
            const acronymText = document.getElementById('Acronym-text').value;
            const disclaimerText = document.getElementById('disclaimer-text').value;

            fetch('/save_disclaimer', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ acronym: acronymText, disclaimer: disclaimerText }),
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
                if (data.redirect_url) {
                    localStorage.setItem('documentSaved', 'true');  // Set flag in local storage
                    window.location.href = data.redirect_url;
                }
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }
    </script>
</body>
</html>
